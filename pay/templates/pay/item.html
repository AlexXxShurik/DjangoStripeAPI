{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ item.name }}</title>
    <script src="https://js.stripe.com/v3/"></script>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        /* Стили для формы ввода карты */

    </style>
</head>
<body>
    <h1>{{ item.name }}</h1>
    <p>{{ item.description }}</p>
    <h3>Price: {{ item.price|floatformat:2 }} {{ item.currency }}</h3>

    <!-- Кнопка для Stripe Checkout Session -->
    <button id="buy-button-session" data-object-type="item" data-object-id="{{ item.id }}" data-stripe-key="{{ stripe_public_key }}">
        Buy Now (Checkout Session)
    </button>

    <!-- Форма для Stripe Payment Intent -->
    <div id="payment-intent-section">
        <div id="card-element" class="card-element">
            <!-- Элемент для ввода карты будет вставлен сюда -->
        </div>
        <div id="card-errors" class="card-errors" role="alert"></div>
        <button id="buy-button-payment-intent" data-object-type="item" data-object-id="{{ item.id }}" data-stripe-key="{{ stripe_public_key }}">
            Buy Now (Payment Intent)
        </button>
    </div>

    <!-- Подключение JavaScript -->
    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>